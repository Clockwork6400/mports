--- build.xml.orig	2018-07-12 14:29:11.000000000 -0400
+++ build.xml	2019-11-12 16:24:57.623139000 -0500
@@ -99,7 +99,7 @@
   <condition property="test.compatibility" value="1.5" else="${compatibility}">
     <equals arg1="${compatibility}" arg2="1.4"/>
   </condition>
-  <condition property="tests.exclude-patterns" value="**/VarArgsTest.java,**/AnnotatedLibraryTest.java,**/WebStartTest.java,**/PointerBufferTest.java,**/HeadlessLoadLibraryTest.java,**/StructureBufferFieldTest.java,**/PerformanceTest.java,**/*BufferArgumentsMarshalTest.java" else="**/wince/*.java,**/WebStartTest.java">
+  <condition property="tests.exclude-patterns" value="**/VarArgsTest.java,**/AnnotatedLibraryTest.java,**/WebStartTest.java,**/PointerBufferTest.java,**/HeadlessLoadLibraryTest.java,**/StructureBufferFieldTest.java,**/PerformanceTest.java,**/*BufferArgumentsMarshalTest.java" else="**/wince/*.java,**/WebStartTest.java,**/LibraryLoadTest.java">
     <equals arg1="${os.prefix}" arg2="w32ce-arm"/>
   </condition>
   <property name="dist-jar" value="${dist}/${jar}"/>
@@ -287,6 +287,9 @@
     <condition property="os.prefix" value="freebsd-${jre.arch}">
       <os name="FreeBSD"/>
     </condition>
+    <condition property="os.prefix" value="midnightbsd-${jre.arch}">
+      <os name="MidnightBSD"/>
+    </condition>
     <condition property="os.prefix" value="openbsd-${jre.arch}">
 	<os name="OpenBSD"/>
     </condition>
@@ -913,6 +916,7 @@
     <condition property="make" value="gmake">
       <or>
         <os name="FreeBSD"/>
+        <os name="MidnightBSD"/>
         <os name="OpenBSD"/>
         <os name="NetBSD"/>
         <os name="SunOS"/>
@@ -1220,7 +1224,6 @@
       <doctitle>JNA API Documentation</doctitle>
       <header>${header}</header>
       <bottom>${footer}</bottom>
-      <link href="http://download.oracle.com/javase/${compatibility}/docs/api/"/>
 
       <packageset dir="${src}" defaultexcludes="yes">
         <patternset>
